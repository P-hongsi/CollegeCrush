<!DOCTYPE html>
<html>

<head>
  <meta charset="euc-kr">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>계산기</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    html {
      background-color: #f6f6e9;
      font-family: 'Nanum Gothic', sans-serif;
    }

    root {
      --text-color: #f0f4f5;
      --background-color: #13334c;
      --accent-color: #fd5f00;
    }

    body {
      margin: 0px;
      font-family: 'Nanum Gothic', sans-serif;
    }

    a {
      text-decoration: none;
      color: white;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #13334c;
      padding: 8px 12px;
    }

    .navbar__logo {
      font-size: 24px;
      color: white;
      width: 70px;
    }

    .navbar__logo i {
      color: #fd5f00;
    }

    .navbar__menu {
      display: flex;
      list-style: none;
      padding-left: 0px;
    }

    .navbar__menu li {
      padding: 8px 12px;

    }

    .navbar__menu :hover {
      background: #fd5f00;
      border-radius: 4px;
    }

    .navbar__icons li {
      padding: 8px 12px;
    }

    .navbar__toogleBtn {
      display: none;
      position: absolute;
      right: 32px;
      font-size: 24px;
      color: #fd5f00;
    }

    @media screen and (max-width: 768px) {
      .navbar {
        flex-direction: column;
        align-items: flex-start;
        padding: 8px 24px;
      }

      .navbar__menu {
        display: none;
        flex-direction: column;
        align-items: center;
        width: 100%;
      }

      .navbar__menu li {
        width: 100%;
        text-align: center;
      }

      .navbar__toogleBtn {
        display: block;
      }

      .navbar__menu.active,
      .navbar__icons.active {
        display: flex;
      }
    }

    input {
      width: 80%;
      height: 32px;
      font-size: 15px;
      border: 0;
      border-radius: 15px;
      outline: none;
      padding-left: 10px;
      background-color: rgb(233, 233, 233);
      display: block; /* Make the input element a block-level element */
      margin: 0 auto; /* Set the left and right margins to auto */
    }

    label{
      display: block; /* Make the label a block-level element */
      text-align: center; /* Center the text inside the label */
      margin-bottom: 25px;
    }

    #compare-btn{
      display: block; /* Make the button a block-level element */
      margin: 0 auto; /* Set the left and right margins to auto */
      width: 10%;
      height: 30px;
      border-radius: 15px;
    }

    #result-container {
      color: #FE2E2E;
      text-align: center;
    }

    #input-val1 {
      margin-bottom: 7%;
    }

    #input-val2 {
      margin-bottom: 8%;
    }

    select {
      display: block; /* Make the select element a block-level element */
      margin: 0 auto; /* Set the left and right margins to auto */
      margin-top: 5%;
      margin-bottom: 5%;
    }
  </style>
</head>

<body>
  <nav class="navbar">
    <div class="navbar__logo">
      <a id="f" href="index.html">계산기</a>
    </div>

    <ul class="navbar__menu">
      <li><a href="Compare_bsu.html">학과점수 비교</a></li>
      <li><a href="Common_bsu.html">석차등급과목 계산기</a></li>
      <li><a href="Career_bsu.html">진로선택과목 계산기</a></li>
      <li><a href="Table_bsu.html">학과 목록</a></li>
    </ul>
    <a href="#" class="navbar__toogleBtn">
      <i class="fas fa-bars"></i>
    </a>
  </nav>
  <div id="select-container"></div>
  <div>
    <label for="input-val1">석차등급과목 점수: </label>
    <input type="text" id="input-val1" name="input-val1" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" />
  </div>
  <div>
    <label for="input-val2">진로선택과목 점수: </label>
    <input  type="text" id="input-val2" name="input-val2" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" />
  </div>
  <button id="compare-btn">비교</button>
  <div id="result-container"></div>
  <script>
    const toggleBtn = document.querySelector('.navbar__toogleBtn');
    const menu = document.querySelector('.navbar__menu');
    const icons = document.querySelector('.navbar__icons');

    toggleBtn.addEventListener('click', () => {
      menu.classList.toggle('active')
      icons.classList.toggle('active')
    });

    $(document).ready(function () {
      var rows = null;

      $.ajax({
        url: "대학.csv",
        dataType: "text",
        type: "GET",
        beforeSend: function (xhr) {
            xhr.overrideMimeType("text/csv; charset=euc-kr");
          },
          success: function (data) {
            rows = data.split("\n");
            var selectHtml = '<select id="word-select">';
            for (var i = 0; i < rows.length; i++) {
              var cells = rows[i].split(",");
              selectHtml +=
                '<option value="' + i + '">' + cells[0] + "</option>";
            }
            selectHtml += "</select>";
            $("#select-container").html(selectHtml);

            $("#compare-btn").click(function () {
              var rowIndex = $("#word-select").val();
              var cells = rows[rowIndex].split(",");
              var inputVal1 = $("#input-val1").val();
              var inputVal2 = $("#input-val2").val();

              if (inputVal1 == cells[4] && inputVal2 == cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 평균 점수와 모두 일치합니다.`
                );
              } else if (inputVal1 > cells[4] && inputVal2 == cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 석차등급과목점수는 ${Math.round((inputVal1 - cells[4]) * 100) / 100}만큼 크고, 진로선택과목점수는 일치합니다.`
                );
              } else if (inputVal1 == cells[4] && inputVal2 > cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 진로선택과목점수는 ${Math.round((inputVal2 - cells[5]) * 100) / 100}만큼 크고, 석차등급과목점수는 일치합니다.`
                );
              } else if (inputVal1 > cells[4] && inputVal2 > cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 석차등급과목점수는 ${Math.round((inputVal1 - cells[4]) * 100) / 100}만큼 크고, 진로선택과목점수는 ${Math.round((inputVal2 - cells[5]) * 100) / 100}만큼 큽니다.`
                );
              } else if (inputVal1 < cells[4] && inputVal2 < cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 석차등급과목점수는 ${Math.round((cells[4] - inputVal1) * 100) / 100}만큼 작고, 진로선택과목점수는 ${Math.round((cells[5] - inputVal2) * 100) / 100}만큼 작습니다.`
                );
              } else if (inputVal1 == cells[4] && inputVal2 < cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 진로선택과목점수는 ${Math.round((cells[5] - inputVal2) * 100) / 100}만큼 작고, 석차등급과목점수는 일치합니다.`
                );
              } else if (inputVal1 < cells[4] && inputVal2 == cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 석차등급과목점수는 ${Math.round((cells[4] - inputVal1) * 100) / 100}만큼 작고, 진로선택과목점수는 일치합니다.`
                );
              } else if (inputVal1 < cells[4] && inputVal2 > cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 석차등급과목점수는 ${Math.round((cells[4] - inputVal1) * 100) / 100}만큼 작고, 진로선택과목점수는 ${Math.round((inputVal2 - cells[5]) * 100) / 100}만큼 큽니다.`
                );
              } else if (inputVal1 > cells[4] && inputVal2 < cells[5]) {
                $("#result-container").html(
                  `2022년도 ${cells[0]}과의 석차등급과목점수는 ${Math.round((inputVal1 - cells[4]) * 100) / 100}만큼 크고, 진로선택과목점수는 ${ Math.round((cells[5] - inputVal2) * 100) / 100}만큼 작습니다.`
                );
              } else {
                $("#result-container").html("숫자 1~99사이로 입력해주세요.");
              }
            });
          },
        });
      });
  </script>
  <script src="https://kit.fontawesome.com/b17d4fa9e7.js" crossorigin="anonymous"></script>
</body>
</body>

</html>
